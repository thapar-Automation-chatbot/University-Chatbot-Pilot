version: "3.1"

stories:
  # - story: grade upgrade eligibility
  #   steps:
  #   - intent: greet
  #   - action: utter_greet
  #   - intent: inquire_about_grade_upgradation_eligibility
  #   - action: grade_eligibility_form
  #   - active_loop : grade_eligibility_form

  #Himanshu
  - story: Greet and Ask Fee Type
    steps:
      - intent: greet
      - action: utter_greet
      - intent: ask_fee_details
      - slot_was_set:
          - fee_type: null
      - action: utter_ask_fee_type

  - story: Handle Fee Type - Grade Improvement
    steps:
      - intent: ask_fee_details
      - slot_was_set:
          - fee_type: "grade improvement"
      - action: action_handle_fee_details

  - story: Handle Fee Type - Backlog Clearance
    steps:
      - intent: ask_fee_details
      - slot_was_set:
          - fee_type: "backlog clearance"
      - action: action_handle_fee_details

  - story: Handle Fee Type - Auxiliary Examination
    steps:
      - intent: ask_fee_details
      - slot_was_set:
          - fee_type: "auxiliary examination"
      - action: action_handle_fee_details

  - story: Handle Fee Type - Thesis Submission
    steps:
      - intent: ask_fee_details
      - slot_was_set:
          - fee_type: "thesis submission"
      - action: action_handle_fee_details

  - story: Fallback - Unrecognized Fee Type
    steps:
      - intent: ask_fee_details
      - slot_was_set:
          - fee_type: "unknown fee type"
      - action: action_handle_fee_details

  - story: User greets and asks about fee refund policy
    steps:
      - intent: greet
      - action: utter_greet
      - intent: ask_fee_refund
      - action: utter_inquire_about_fee_refund_policy

  - story: User asks about fee refund policy before asking for fee details
    steps:
      - intent: ask_fee_refund
      - action: utter_inquire_about_fee_refund_policy
      - intent: ask_fee_details
        entities:
          - fee_type: "backlog clearance"
      - action: action_handle_fee_details

  - story: User asks about fee details for auxiliary examination and then asks for refund policy
    steps:
      - intent: ask_fee_details
        entities:
          - fee_type: "auxiliary examination"
      - action: action_handle_fee_details
      - intent: ask_fee_refund
      - action: utter_inquire_about_fee_refund_policy

  - story: User directly asks about fee details for thesis submission
    steps:
      - intent: ask_fee_details
        entities:
          - fee_type: "thesis submission"
      - action: action_handle_fee_details

  - story: User asks for fee details for grade improvement, then asks for backlog clearance, and finally asks for refund policy
    steps:
      - intent: ask_fee_details
        entities:
          - fee_type: "grade improvement"
      - action: action_handle_fee_details
      - intent: ask_fee_details
        entities:
          - fee_type: "backlog clearance"
      - action: action_handle_fee_details
      - intent: ask_fee_refund
      - action: utter_inquire_about_fee_refund_policy

  - story: User greets and asks for fee refund policy, then asks for fee details for thesis submission
    steps:
      - intent: greet
      - action: utter_greet
      - intent: ask_fee_refund
      - action: utter_inquire_about_fee_refund_policy
      - intent: ask_fee_details
        entities:
          - fee_type: "thesis submission"
      - action: action_handle_fee_details

  - story: User inquires about medal, scholarship, or upgradation criteria
    steps:
      - intent: inquire_about_medal_scholarship_upgradation_criteria
      - action: utter_explain_criteria

  - story: User greets and then asks about medal criteria
    steps:
      - intent: greet
      - action: utter_greet
      - intent: inquire_about_medal_scholarship_upgradation_criteria
      - action: utter_explain_criteria

  - story: User asks about medal criteria, then fee details, and finally asks for refund policy
    steps:
      - intent: inquire_about_medal_scholarship_upgradation_criteria
      - action: utter_explain_criteria
      - intent: ask_fee_details
        entities:
          - fee_type: "auxiliary examination"
      - action: action_handle_fee_details
      - intent: ask_fee_refund
      - action: utter_inquire_about_fee_refund_policy

  - story: Auxiliary Exam in July
    steps:
      - intent: General_info_Auxiliary
      - action: action_provide_general_info

  - story: Process for July Exam
    steps:
      - intent: Auxiliary_exam_process
      - action: action_provide_exam_process

  - story: Auxiliary Exam in January
    steps:
      - intent: General_info_Auxiliary_January
      - action: action_provide_general_info

  - story: Process for January Exam
    steps:
      - intent: Auxiliary_exam_process_January
      - action: action_provide_exam_process

  - story: Re-enrollment after Auxiliary Exam
    steps:
      - intent: subject_re_enrollment_auxiliary_yes
      - action: action_handle_subject_re_enrollment_auxiliary_yes

  - story: Re-enrollment after Summer Semester
    steps:
      - intent: subject_re_enrollment_summer_no
      - action: action_handle_subject_re_enrollment_summer_no

  - story: Subject Limitation Inquiry
    steps:
      - intent: ask_subject_limitation
      - action: action_handle_ask_subject_limitation

  - story: Exam Evaluation Process Inquiry
    steps:
      - intent: ask_exam_evaluation_process
      - action: action_exam_evaluation_process

  - story: Goodbye
    steps:
      - intent: goodbye
      - action: utter_goodbye

  - story: interactive_story_1
    steps:
      - intent: ask_fee_details
      - action: utter_ask_fee_type
      - intent: ask_fee_refund
      - intent: ask_fee_details
      - action: utter_ask_fee_type
